import React, { useState, useEffect } from 'react';
import { Heart, Sparkles, Star, Moon, Sun, Coffee, Music, BookHeart, CloudRain, Rainbow, Flower2, Crown, Gift, MessageCircleHeart, Lock, Trophy } from 'lucide-react';

export default function ApologyApp() {
  const [showLove, setShowLove] = useState(false);
  const [currentPage, setCurrentPage] = useState(0);
  const [hearts, setHearts] = useState([]);
  const [stars, setStars] = useState([]);
  const [particles, setParticles] = useState([]);
  const [showFireworks, setShowFireworks] = useState(false);
  const [textIndex, setTextIndex] = useState(0);
  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });
  const [collectedHearts, setCollectedHearts] = useState(0);
  const [showSecret, setShowSecret] = useState(false);
  const [shakeCount, setShakeCount] = useState(0);
  const [unlockedPages, setUnlockedPages] = useState([true, false, false, false, false, false, false]);
  const [miniGameScore, setMiniGameScore] = useState(0);
  const [caughtHearts, setCaughtHearts] = useState(0);
  const [floatingHearts, setFloatingHearts] = useState([]);
  const [typedText, setTypedText] = useState('');
  const [countdown, setCountdown] = useState(null);
  const [showPlane, setShowPlane] = useState(false);
  const [planeProgress, setPlaneProgress] = useState(0);
  const [showHugAnimation, setShowHugAnimation] = useState(false);
  const [hugPhase, setHugPhase] = useState(0);
  const [kissCount, setKissCount] = useState(0);
  const [sparkles, setSparkles] = useState([]);

  const showMiniGame = countdown !== null && countdown > 0;

  const loveMessages = [
    "You are my universe ğŸŒŒ",
    "My forever person ğŸ’«",
    "My greatest blessing âœ¨",
    "My heart's home ğŸ¡",
    "My beautiful queen ğŸ‘‘"
  ];

  const typingChallenge = "I forgive you";

  useEffect(() => {
    if (showPlane) {
      const interval = setInterval(() => {
        setPlaneProgress(prev => {
          if (prev >= 100) {
            clearInterval(interval);
            setTimeout(() => setShowHugAnimation(true), 500);
            return 100;
          }
          return prev + 0.8;
        });
      }, 50);
      return () => clearInterval(interval);
    }
  }, [showPlane]);

  useEffect(() => {
    if (showHugAnimation && hugPhase < 4) {
      const timer = setTimeout(() => {
        setHugPhase(prev => prev + 1);
      }, 1500);
      return () => clearTimeout(timer);
    }
  }, [showHugAnimation, hugPhase]);

  useEffect(() => {
    const handleMouseMove = (e) => {
      setMousePosition({ x: e.clientX, y: e.clientY });
    };
    window.addEventListener('mousemove', handleMouseMove);
    return () => window.removeEventListener('mousemove', handleMouseMove);
  }, []);

  useEffect(() => {
    if (countdown !== null && countdown > 0) {
      const interval = setInterval(() => {
        setFloatingHearts(prev => [...prev, {
          id: Math.random(),
          x: Math.random() * 80 + 10,
          y: -10
        }]);
      }, 1000);
      return () => clearInterval(interval);
    }
  }, [countdown]);

  useEffect(() => {
    if (countdown > 0) {
      const timer = setTimeout(() => setCountdown(countdown - 1), 1000);
      return () => clearTimeout(timer);
    } else if (countdown === 0) {
      setFloatingHearts([]);
    }
  }, [countdown]);

  useEffect(() => {
    if (showLove) {
      setShowFireworks(true);
      
      const heartInterval = setInterval(() => {
        setHearts(prev => [...prev, {
          id: Math.random(),
          left: Math.random() * 100,
          size: 20 + Math.random() * 30,
          delay: Math.random() * 2,
          duration: 3 + Math.random() * 2
        }]);
      }, 200);

      const starInterval = setInterval(() => {
        setStars(prev => [...prev, {
          id: Math.random(),
          left: Math.random() * 100,
          top: Math.random() * 100,
        }]);
      }, 150);

      const textInterval = setInterval(() => {
        setTextIndex(prev => (prev + 1) % loveMessages.length);
      }, 2000);

      return () => {
        clearInterval(heartInterval);
        clearInterval(starInterval);
        clearInterval(textInterval);
      };
    }
  }, [showLove]);

  const unlockNextPage = () => {
    const nextIndex = unlockedPages.findIndex(p => !p);
    if (nextIndex !== -1) {
      const newUnlocked = [...unlockedPages];
      newUnlocked[nextIndex] = true;
      setUnlockedPages(newUnlocked);
    }
  };

  const startMiniGame = () => {
    setCaughtHearts(0);
    setCountdown(15);
  };

  const catchHeart = (heartId) => {
    setFloatingHearts(prev => prev.filter(h => h.id !== heartId));
    setCaughtHearts(prev => prev + 1);
    setMiniGameScore(prev => prev + 10);
    setCollectedHearts(prev => Math.min(prev + 5, 200));
  };

  const apologyPages = [
    {
      title: "Good Morning, Dipti â˜€ï¸",
      icon: <Sun className="w-16 h-16 text-yellow-500 animate-spin-slow" />,
      content: (
        <div className="space-y-6">
          <div className="flex justify-center gap-8 mb-8 flex-wrap">
            <div className="relative group">
              <div className="absolute inset-0 bg-gradient-to-r from-green-400 to-blue-500 rounded-full blur-xl opacity-50 group-hover:opacity-75 transition-opacity duration-500"></div>
              <div className="relative w-40 h-40 rounded-full overflow-hidden border-4 border-white shadow-2xl transform group-hover:scale-110 group-hover:rotate-3 transition-all duration-500">
                <div className="w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center">
                  <p className="text-4xl">ğŸ‘¨â€ğŸ’¼</p>
                </div>
              </div>
              <div className="absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-bold shadow-lg">
                The Lawyer-Coder ğŸ’»
              </div>
            </div>

            <div className="flex items-center">
              <Heart className="w-16 h-16 text-red-500 fill-red-500 animate-heartbeat" />
            </div>

            <div className="relative group">
              <div className="absolute inset-0 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full blur-xl opacity-50 group-hover:opacity-75 transition-opacity duration-500"></div>
              <div className="relative w-40 h-40 rounded-full overflow-hidden border-4 border-white shadow-2xl transform group-hover:scale-110 group-hover:-rotate-3 transition-all duration-500">
                <div className="w-full h-full bg-gradient-to-br from-teal-400 to-teal-500 flex items-center justify-center">
                  <p className="text-4xl">ğŸ‘©â€âš–ï¸</p>
                </div>
              </div>
              <div className="absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-pink-500 text-white px-4 py-1 rounded-full text-sm font-bold shadow-lg">
                My Beautiful Dipti ğŸ’
              </div>
            </div>
          </div>

          <div className="bg-gradient-to-br from-yellow-50 via-orange-50 to-pink-50 p-6 sm:p-8 rounded-3xl border-4 border-yellow-200 shadow-xl">
            <Coffee className="w-10 h-10 sm:w-12 sm:h-12 text-orange-600 mx-auto mb-4 animate-bounce" />
            <p className="text-xl sm:text-2xl md:text-3xl font-bold text-center text-orange-900 mb-4">
              I know mornings can feel boring sometimes...
            </p>
            <p className="text-base sm:text-lg text-center text-gray-700 leading-relaxed mb-4">
              But I wanted to start YOUR day with something special. Something I crafted with love while you were sleeping peacefully. ğŸ˜ŠğŸ’¤
            </p>
            <div className="bg-white/70 p-4 sm:p-6 rounded-2xl mb-4">
              <p className="text-lg sm:text-xl text-center text-purple-800 font-semibold italic leading-relaxed">
                "I did this after you slept, Dipti. Every line of code, every animation, every heart... all created in the quiet hours just thinking of you." ğŸŒ™âœ¨
              </p>
            </div>
            <div className="bg-gradient-to-r from-pink-100 to-purple-100 p-4 sm:p-6 rounded-2xl border-2 border-pink-300">
              <p className="text-base sm:text-lg text-center text-gray-800 font-semibold mb-2">
                How is my scope? ğŸ˜…ğŸ’»
              </p>
              <p className="text-sm sm:text-base text-center text-gray-700 italic">
                A lawyer learning to code just to make you smile... I think my scope is expanding in the best way possible! ğŸ’
              </p>
            </div>
          </div>

          <div className="bg-gradient-to-r from-blue-50 via-purple-50 to-pink-50 p-6 sm:p-8 rounded-3xl border-4 border-purple-200 shadow-xl">
            <p className="text-lg sm:text-xl text-center text-purple-900 mb-4 font-semibold">
              This isn't just another morning message...
            </p>
            <p className="text-base sm:text-lg text-center text-gray-700 leading-relaxed mb-4">
              It's a digital love letter. A coded apology. A lawyer who learned to speak in JavaScript just to tell you: <span className="font-bold text-pink-600">I'm truly sorry, and you mean everything to me.</span> ğŸ’
            </p>
            <div className="bg-white/70 p-4 sm:p-6 rounded-2xl border-2 border-purple-200 mt-4">
              <p className="text-base sm:text-lg text-center text-gray-800 italic leading-relaxed">
                I wish I could be female, just to truly know your emotions, to feel what you feel in that way. Hehe, my best person. <span className="font-bold text-pink-600">I miss you dherai.</span> ğŸ’•
              </p>
            </div>
            <div className="bg-gradient-to-r from-pink-100 to-red-100 p-4 sm:p-6 rounded-2xl border-2 border-pink-300 mt-4">
              <p className="text-sm sm:text-base text-center text-gray-700 italic leading-relaxed">
                "UFF Meri dil mein thodi khali si jaga thi... and that empty space? It has your name written all over it." ğŸ’âœ¨
              </p>
            </div>
          </div>

          <div className="bg-gradient-to-br from-green-50 to-teal-50 p-6 rounded-3xl border-3 border-green-200 shadow-lg">
            <div className="flex items-center justify-center gap-3 mb-3">
              <Sparkles className="w-8 h-8 text-teal-600 animate-pulse" />
              <p className="text-lg font-bold text-teal-900">Ready for an adventure?</p>
              <Sparkles className="w-8 h-8 text-teal-600 animate-pulse" />
            </div>
            <p className="text-center text-gray-700">
              This is interactive! You'll unlock pages, play mini-games, and collect hearts along the way! ğŸ®ğŸ’
            </p>
          </div>
        </div>
      )
    },
    {
      title: "âœˆï¸ Flying Across The Ocean To Hug You!",
      icon: <div className="text-4xl sm:text-5xl">âœˆï¸</div>,
      content: (
        <div className="space-y-6">
          <div className="bg-gradient-to-r from-sky-100 to-blue-100 p-6 sm:p-8 rounded-3xl border-4 border-sky-300 shadow-2xl">
            <p className="text-xl sm:text-2xl md:text-3xl font-bold text-center text-sky-900 mb-4 sm:mb-6 leading-relaxed">
              If I Could Fly Right Now... ğŸŒâœ¨
            </p>
            <p className="text-base sm:text-lg text-center text-gray-700 mb-6 leading-relaxed">
              I'd hop on the first plane from New York to London, flying 3,459 miles across the Atlantic Ocean, just to wrap my arms around you and never let go! ğŸ¤—ğŸ’•
            </p>
            
            {!showPlane ? (
              <div className="text-center space-y-4">
                <div className="bg-white/70 p-4 sm:p-6 rounded-2xl border-2 border-sky-200 mb-4">
                  <p className="text-sm sm:text-base text-gray-700 italic leading-relaxed">
                    "UFF Meri dil mein thodi khali si jaga thi... and only YOUR hug can fill it completely." ğŸ’
                  </p>
                </div>
                <button
                  onClick={() => setShowPlane(true)}
                  className="bg-gradient-to-r from-sky-500 via-blue-500 to-purple-500 text-white px-8 sm:px-12 py-4 sm:py-6 rounded-full text-xl sm:text-2xl font-black shadow-2xl transform transition-all duration-300 hover:scale-110 animate-pulse relative overflow-hidden group"
                >
                  <span className="relative z-10">âœˆï¸ Send Me Flying To You! âœˆï¸</span>
                  <div className="absolute inset-0 bg-gradient-to-r from-yellow-400 via-pink-400 to-purple-400 opacity-0 group-hover:opacity-50 transition-opacity duration-300"></div>
                </button>
                <p className="text-xs sm:text-sm text-gray-600 italic">Click to watch me cross the ocean just for you! ğŸŒŠğŸ’•</p>
              </div>
            ) : !showHugAnimation ? (
              <div className="relative">
                {/* Enhanced World Map Background */}
                <div className="relative h-72 sm:h-80 md:h-96 bg-gradient-to-b from-sky-200 via-blue-200 to-blue-400 rounded-3xl overflow-hidden border-4 border-sky-400 mb-4 shadow-2xl">
                  {/* Sun */}
                  <div className="absolute top-4 right-4 text-5xl sm:text-6xl animate-spin-slow">â˜€ï¸</div>
                  
                  {/* Ocean waves */}
                  <div className="absolute bottom-0 w-full h-24 opacity-40">
                    <div className="absolute w-full h-full bg-gradient-to-t from-blue-500 to-transparent animate-pulse"></div>
                    <div className="absolute bottom-0 w-full flex justify-around text-3xl sm:text-4xl opacity-60">
                      <span className="animate-bounce">ğŸŒŠ</span>
                      <span className="animate-bounce" style={{animationDelay: '0.2s'}}>ğŸŒŠ</span>
                      <span className="animate-bounce" style={{animationDelay: '0.4s'}}>ğŸŒŠ</span>
                      <span className="animate-bounce" style={{animationDelay: '0.6s'}}>ğŸŒŠ</span>
                    </div>
                  </div>
                  
                  {/* Clouds with different speeds */}
                  <div className="absolute top-8 left-12 sm:left-20 text-3xl sm:text-4xl opacity-70 animate-float">â˜ï¸</div>
                  <div className="absolute top-16 sm:top-20 right-24 sm:right-32 text-3xl sm:text-4xl opacity-60 animate-float" style={{animationDelay: '1s'}}>â˜ï¸</div>
                  <div className="absolute top-12 sm:top-16 left-1/2 text-4xl sm:text-5xl opacity-50 animate-float" style={{animationDelay: '2s'}}>â˜ï¸</div>
                  <div className="absolute top-28 left-1/4 text-2xl sm:text-3xl opacity-40 animate-float" style={{animationDelay: '1.5s'}}>â˜ï¸</div>
                  
                  {/* Birds flying */}
                  <div className="absolute top-20 left-1/3 text-xl animate-float" style={{animationDelay: '0.5s'}}>ğŸ•Šï¸</div>
                  <div className="absolute top-32 right-1/3 text-xl animate-float" style={{animationDelay: '1.2s'}}>ğŸ•Šï¸</div>
                  
                  {/* Dotted flight path - beautiful curved */}
                  <svg className="absolute inset-0 w-full h-full" viewBox="0 0 500 400">
                    <path
                      d="M 50 280 Q 150 120, 250 180 T 450 220"
                      stroke="#ffffff"
                      strokeWidth="4"
                      strokeDasharray="15,15"
                      fill="none"
                      opacity="0.8"
                    />
                    {/* Pink hearts along the path */}
                    {[...Array(Math.floor(planeProgress / 8))].map((_, i) => (
                      <circle
                        key={i}
                        cx={50 + (i * 45)}
                        cy={280 - (i * 12) + Math.sin(i * 0.5) * 25}
                        r="4"
                        fill="#ff69b4"
                        opacity={0.7 - (i * 0.05)}
                      >
                        <animate attributeName="r" values="3;5;3" dur="1s" repeatCount="indefinite" />
                      </circle>
                    ))}
                  </svg>
                  
                  {/* US Location - Enhanced */}
                  <div className="absolute left-[6%] sm:left-[10%] bottom-[18%] sm:bottom-[25%] text-center z-10">
                    <div className="relative">
                      <div className="absolute inset-0 bg-blue-400 rounded-full blur-xl opacity-50 animate-pulse"></div>
                      <div className="relative text-5xl sm:text-6xl mb-2 animate-bounce">ğŸ—½</div>
                      <div className="absolute -top-10 sm:-top-12 left-1/2 transform -translate-x-1/2 whitespace-nowrap">
                        <div className="bg-gradient-to-r from-blue-500 to-blue-600 text-white px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-bold shadow-lg border-2 border-white">
                          New York, USA
                        </div>
                        <div className="text-2xl sm:text-3xl mt-1 animate-wiggle">ğŸ‘‹</div>
                      </div>
                      <p className="text-xs sm:text-sm text-white font-bold mt-2 drop-shadow-lg">Missing you!</p>
                    </div>
                  </div>
                  
                  {/* UK Location - Enhanced */}
                  <div className="absolute right-[6%] sm:right-[10%] top-[38%] sm:top-[45%] text-center z-10">
                    <div className="relative">
                      <div className="absolute inset-0 bg-pink-400 rounded-full blur-xl opacity-50 animate-pulse" style={{animationDelay: '0.5s'}}></div>
                      <div className="relative text-5xl sm:text-6xl mb-2 animate-bounce" style={{animationDelay: '0.5s'}}>ğŸ°</div>
                      <div className="absolute -top-10 sm:-top-12 left-1/2 transform -translate-x-1/2 whitespace-nowrap">
                        <div className="bg-gradient-to-r from-pink-500 to-purple-600 text-white px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-bold shadow-lg border-2 border-white">
                          London, UK
                        </div>
                        <div className="text-2xl sm:text-3xl mt-1 animate-heartbeat">ğŸ’</div>
                      </div>
                      <p className="text-xs sm:text-sm text-white font-bold mt-2 drop-shadow-lg">Waiting for you!</p>
                    </div>
                  </div>
                  
                  {/* Flying Person with Airplane - Enhanced */}
                  <div 
                    className="absolute transition-all duration-100 z-20"
                    style={{
                      left: `${6 + (planeProgress * 0.82)}%`,
                      top: `${72 - (planeProgress * 0.48) + Math.sin(planeProgress * 0.15) * 8}%`,
                      transform: `rotate(${-12 + Math.sin(planeProgress * 0.1) * 6}deg) scale(${1.2 + planeProgress * 0.012})`
                    }}
                  >
                    <div className="relative">
                      {/* Airplane with trail */}
                      <div className="relative">
                        <div className="absolute -left-8 top-1 text-2xl sm:text-3xl opacity-30">ğŸ’¨</div>
                        <div className="text-6xl sm:text-7xl drop-shadow-2xl">âœˆï¸</div>
                        <div className="absolute -top-3 -right-3 text-3xl sm:text-4xl animate-wiggle drop-shadow-lg">ğŸƒâ€â™‚ï¸</div>
                        <div className="absolute -bottom-2 left-1/2 bg-white/90 px-2 py-1 rounded-full text-xs font-bold whitespace-nowrap transform -translate-x-1/2">
                          Coming for you! ğŸ’•
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  {/* Enhanced Heart Trail with different sizes */}
                  {planeProgress > 5 && [...Array(Math.floor(planeProgress / 6))].map((_, i) => (
                    <div
                      key={i}
                      className="absolute"
                      style={{
                        left: `${6 + ((planeProgress - (i * 6)) * 0.82)}%`,
                        top: `${72 - ((planeProgress - (i * 6)) * 0.48)}%`,
                        opacity: Math.max(0, 1 - (i * 0.12)),
                        animation: `float ${1.5 + i * 0.1}s ease-in-out infinite`,
                        animationDelay: `${i * 0.15}s`,
                        transform: `scale(${1 - i * 0.08})`
                      }}
                    >
                      <div className="text-2xl sm:text-3xl drop-shadow-lg">
                        {i % 3 === 0 ? 'ğŸ’•' : i % 3 === 1 ? 'ğŸ’–' : 'ğŸ’—'}
                      </div>
                    </div>
                  ))}
                  
                  {/* Sparkle effects around plane */}
                  {planeProgress > 20 && planeProgress % 10 < 5 && (
                    <div
                      className="absolute animate-twinkle"
                      style={{
                        left: `${8 + (planeProgress * 0.82)}%`,
                        top: `${70 - (planeProgress * 0.48)}%`
                      }}
                    >
                      <Star className="w-6 h-6 text-yellow-300 fill-yellow-300" />
                    </div>
                  )}
                  
                  {/* Distance and altitude indicator */}
                  <div className="absolute top-3 sm:top-4 left-1/2 transform -translate-x-1/2 bg-white/95 px-3 sm:px-4 py-2 rounded-full shadow-xl border-2 border-sky-300 backdrop-blur-sm">
                    <p className="text-xs sm:text-sm font-bold text-gray-700 text-center">
                      ğŸŒ {Math.round((100 - planeProgress) * 34.59)} miles to go!
                    </p>
                    <p className="text-xs text-gray-600 text-center">âœˆï¸ Altitude: {Math.round(30000 + planeProgress * 50)} ft</p>
                  </div>
                </div>
                
                {/* Enhanced Progress Bar */}
                <div className="bg-white p-4 sm:p-6 rounded-2xl border-4 border-sky-200 shadow-2xl">
                  <div className="flex items-center justify-between mb-3">
                    <span className="text-sm sm:text-base font-bold text-sky-900 flex items-center gap-2">
                      <span className="text-2xl animate-bounce">âœˆï¸</span> Flight Progress:
                    </span>
                    <span className="text-2xl sm:text-3xl font-black bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent">
                      {Math.round(planeProgress)}%
                    </span>
                  </div>
                  <div className="h-5 sm:h-6 bg-sky-100 rounded-full overflow-hidden border-3 border-sky-300 shadow-inner">
                    <div 
                      className="h-full bg-gradient-to-r from-sky-500 via-purple-500 to-pink-500 transition-all duration-100 relative overflow-hidden"
                      style={{ width: `${planeProgress}%` }}
                    >
                      <div className="absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent animate-shimmer"></div>
                      {/* Mini hearts inside progress bar */}
                      <div className="absolute inset-0 flex items-center justify-around text-xs">
                        {planeProgress > 20 && <span>ğŸ’•</span>}
                        {planeProgress > 40 && <span>ğŸ’–</span>}
                        {planeProgress > 60 && <span>ğŸ’—</span>}
                        {planeProgress > 80 && <span>ğŸ’</span>}
                      </div>
                    </div>
                  </div>
                  <p className="text-center mt-3 text-sm sm:text-base text-gray-600 italic font-semibold">
                    {planeProgress < 20 ? "ğŸ›« Taking off from New York... thinking of you!" : 
                     planeProgress < 40 ? "ğŸŒŠ Flying over the Atlantic Ocean! Miss you so much!" :
                     planeProgress < 60 ? "â˜ï¸ Halfway there! Can't wait to hold you!" :
                     planeProgress < 80 ? "ğŸ‘€ I can see the UK! Almost there, my love!" :
                     planeProgress < 95 ? "ğŸ° Approaching London! Get ready for the biggest hug!" :
                     "ğŸ›¬ Landing... Running to you... ğŸ’•"}
                  </p>
                </div>
              </div>
            ) : (
              <div className="relative">
                {/* Hug Animation Sequence */}
                <div className="bg-gradient-to-br from-pink-100 via-purple-100 to-pink-100 p-8 rounded-3xl border-4 border-pink-400 shadow-2xl min-h-96 flex items-center justify-center">
                  <div className="text-center">
                    {hugPhase === 0 && (
                      <div className="animate-zoomIn">
                        <div className="text-8xl mb-6 animate-bounce">âœˆï¸â¡ï¸ğŸ°</div>
                        <p className="text-3xl font-black text-pink-900">I LANDED! ğŸ‰</p>
                        <p className="text-xl text-gray-700 mt-4">Running towards you...</p>
                      </div>
                    )}
                    
                    {hugPhase === 1 && (
                      <div className="animate-slideIn">
                        <div className="text-8xl mb-6">
                          <span className="inline-block animate-wiggle">ğŸƒâ€â™‚ï¸</span>
                          <span className="text-6xl">ğŸ’¨ğŸ’¨ğŸ’¨</span>
                          <span className="inline-block animate-wiggle" style={{animationDelay: '0.2s'}}>ğŸ§â€â™€ï¸</span>
                        </div>
                        <p className="text-3xl font-black text-purple-900">Almost there! ğŸ’•</p>
                        <p className="text-xl text-gray-700 mt-4">Arms wide open...</p>
                      </div>
                    )}
                    
                    {hugPhase === 2 && (
                      <div className="animate-zoomIn">
                        <div className="text-9xl mb-6 animate-heartbeat">ğŸ¤—</div>
                        <p className="text-4xl font-black text-pink-900 mb-4">*TIGHT HUG* ğŸ’</p>
                        <p className="text-2xl text-gray-800">Never letting go...</p>
                        <div className="flex justify-center gap-2 mt-6">
                          {['ğŸ’•', 'ğŸ’–', 'ğŸ’—', 'ğŸ’“', 'ğŸ’', 'ğŸ’'].map((heart, i) => (
                            <span 
                              key={i} 
                              className="text-4xl animate-bounce"
                              style={{animationDelay: `${i * 0.1}s`}}
                            >
                              {heart}
                            </span>
                          ))}
                        </div>
                      </div>
                    )}
                    
                    {hugPhase >= 3 && (
                      <div className="animate-fadeIn">
                        <div className="relative">
                          <div className="text-9xl mb-6">
                            <span className="inline-block animate-pulse">ğŸ¤—</span>
                            <span className="absolute top-0 left-1/2 transform -translate-x-1/2 text-6xl animate-ping">ğŸ’•</span>
                          </div>
                        </div>
                        <p className="text-4xl font-black text-pink-900 mb-4 animate-pulse">
                          THIS IS THE WARMEST HUG EVER! 
                        </p>
                        <p className="text-2xl text-purple-800 mb-6 italic">
                          "In your arms is where I belong, Dipti" ğŸ’
                        </p>
                        
                        <div className="bg-white/80 p-6 rounded-2xl mb-6 border-3 border-pink-300">
                          <p className="text-lg text-gray-700 leading-relaxed">
                            If I could really fly to you right now, I would in a heartbeat. 
                            This hug would last forever. Distance can't measure what you mean to me. ğŸŒğŸ’•
                          </p>
                        </div>
                        
                        <button
                          onClick={() => {
                            unlockNextPage();
                            setShowPlane(false);
                            setPlaneProgress(0);
                            setShowHugAnimation(false);
                            setHugPhase(0);
                          }}
                          className="w-full bg-gradient-to-r from-pink-500 via-purple-500 to-pink-500 text-white px-6 sm:px-8 py-4 sm:py-5 rounded-full text-xl sm:text-2xl font-black shadow-2xl hover:scale-105 transition-transform animate-pulse"
                        >
                          Continue The Journey! ğŸ¤—ğŸ’•
                        </button>
                      </div>
                    )}
                  </div>
                </div>
              </div>
            )}
          </div>
          
          <div className="bg-gradient-to-r from-purple-50 to-pink-50 p-4 sm:p-6 rounded-3xl border-3 border-purple-200">
            <p className="text-base sm:text-lg text-center text-gray-700 italic leading-relaxed">
              "3,459 miles separate us, but not even an ocean can keep my heart from you. One day, this won't be an animation - it'll be real." ğŸŒğŸ’•âœˆï¸
            </p>
          </div>
        </div>
      )
    },
    {
      title: "ğŸµ Uff Meri Dil Mein...",
      icon: <Music className="w-12 h-12 sm:w-16 sm:h-16 text-pink-500 animate-bounce" />,
      content: (
        <div className="space-y-6">
          <div className="bg-gradient-to-r from-pink-100 via-purple-100 to-pink-100 p-6 sm:p-8 rounded-3xl border-4 border-pink-300 shadow-2xl">
            <Music className="w-12 h-12 sm:w-16 sm:h-16 text-pink-600 mx-auto mb-4 sm:mb-6 animate-pulse" />
            <p className="text-2xl sm:text-3xl md:text-4xl font-black text-center text-pink-900 mb-4 sm:mb-6 leading-relaxed">
              "Uff Meri Dil Mein Thodi Khali Si Jaga Thi..."
            </p>
            <p className="text-base sm:text-lg md:text-xl text-center text-gray-800 mb-4 sm:mb-6 italic leading-relaxed">
              I was listening to this song on repeat while coding this entire app for you, Dipti... ğŸ§ğŸ’•
            </p>
            
            <div className="bg-white/80 p-4 sm:p-6 rounded-2xl border-2 border-pink-200 space-y-3 sm:space-y-4 mb-6">
              <p className="text-base sm:text-lg text-center text-gray-800 leading-relaxed">
                There was a little empty space in my heart... and you know what? 
              </p>
              <p className="text-xl sm:text-2xl font-bold text-center text-pink-700">
                You filled it completely. ğŸ’
              </p>
              <p className="text-base sm:text-lg text-center text-gray-700 mt-4 leading-relaxed">
                Every line of code I wrote, every animation I debugged, every late night I spent learning React - all of it was fueled by this beautiful song and constant thoughts of you.
              </p>
            </div>

            <div className="bg-gradient-to-r from-purple-100 to-pink-100 p-4 sm:p-6 rounded-2xl border-3 border-purple-300 mb-6">
              <p className="text-base sm:text-lg text-center text-purple-900 font-semibold mb-3">
                The Perfect Coding Moment ğŸ’»âœ¨
              </p>
              <p className="text-sm sm:text-base text-center text-gray-700 italic leading-relaxed">
                "It was late. The world was quiet. This song played softly in my headphones. And I smiled, because even though you were sleeping peacefully somewhere, I was here... creating magic for you. That empty space in my heart? It's where you live, Dipti." ğŸŒ™ğŸ’•
              </p>
            </div>
          </div>

          <div className="bg-gradient-to-br from-purple-100 to-pink-100 p-6 sm:p-8 rounded-3xl border-4 border-purple-300 shadow-xl">
            <p className="text-xl sm:text-2xl font-bold text-center text-purple-900 mb-4 sm:mb-6">
              The Late Night Playlist ğŸµ
            </p>
            <div className="space-y-3">
              {[
                { emoji: 'ğŸµ', text: 'Uff Meri Dil Mein - on infinite repeat!' },
                { emoji: 'ğŸ’­', text: 'Thinking of your smile while debugging' },
                { emoji: 'âŒ¨ï¸', text: 'Typing with love, not just code' },
                { emoji: 'ğŸŒ™', text: 'Working while you dreamed peacefully' },
                { emoji: 'ğŸ’•', text: 'Missing you dherai with every keystroke' },
                { emoji: 'âœ¨', text: 'Creating magic just for YOU' }
              ].map((item, i) => (
                <div 
                  key={i}
                  className="bg-white/90 p-3 sm:p-4 rounded-xl shadow-lg transform hover:scale-105 hover:rotate-1 transition-all cursor-pointer border-2 border-transparent hover:border-pink-300"
                  onClick={() => setCollectedHearts(prev => Math.min(prev + 3, 200))}
                >
                  <p className="text-sm sm:text-base text-center font-semibold text-gray-800">
                    <span className="text-lg sm:text-xl mr-2">{item.emoji}</span>
                    {item.text}
                  </p>
                </div>
              ))}
            </div>
          </div>

          <div className="bg-gradient-to-r from-red-100 to-pink-100 p-6 sm:p-8 rounded-3xl border-4 border-red-300 shadow-xl">
            <p className="text-lg sm:text-xl text-center text-gray-800 leading-relaxed italic">
              "Every song reminds me of you. Every beat syncs with my heartbeat when I think of us. This wasn't just coding - this was composing a love letter in JavaScript, React, and pure emotion." ğŸ¶ğŸ’»ğŸ’•
            </p>
            <div className="mt-4 text-center">
              <p className="text-base sm:text-lg font-bold text-pink-700">
                I miss you dherai, Dipti. ğŸ’
              </p>
            </div>
          </div>
        </div>
      )
    },
    {
      title: "ğŸ® Mini-Game: Catch My Heart!",
      icon: <Trophy className="w-16 h-16 text-yellow-500 animate-bounce" />,
      content: (
        <div className="space-y-6">
          <div className="bg-gradient-to-r from-purple-100 to-pink-100 p-8 rounded-3xl border-4 border-purple-300 shadow-2xl">
            <p className="text-2xl md:text-3xl font-bold text-center text-purple-900 mb-4">
              Let's Have Some Fun! ğŸ‰
            </p>
            <p className="text-lg text-center text-gray-700 mb-6">
              Before I continue... can you help me catch some hearts? Click them before they float away! ğŸ’•
            </p>
            
            {!showMiniGame ? (
              <div className="text-center">
                <button
                  onClick={startMiniGame}
                  className="bg-gradient-to-r from-pink-500 to-purple-500 text-white px-10 py-5 rounded-full text-2xl font-black shadow-2xl transform transition-all duration-300 hover:scale-110 animate-pulse"
                >
                  ğŸ® Start Game! ğŸ®
                </button>
                <p className="mt-4 text-sm text-gray-600">You have 15 seconds to catch as many hearts as you can!</p>
              </div>
            ) : (
              <div className="relative h-96 bg-gradient-to-b from-pink-200 to-purple-200 rounded-3xl overflow-hidden border-4 border-pink-400">
                <div className="absolute top-4 left-1/2 transform -translate-x-1/2 bg-white px-6 py-3 rounded-full shadow-lg z-20">
                  <p className="text-2xl font-black text-purple-900">
                    â±ï¸ {countdown}s | â¤ï¸ {caughtHearts}
                  </p>
                </div>
                
                {floatingHearts.map(heart => (
                  <div
                    key={heart.id}
                    className="absolute cursor-pointer transition-transform hover:scale-150"
                    style={{
                      left: `${heart.x}%`,
                      bottom: `${heart.y}%`,
                      animation: 'floatUp 4s linear infinite'
                    }}
                    onClick={() => catchHeart(heart.id)}
                  >
                    <Heart className="w-12 h-12 text-red-500 fill-red-500" />
                  </div>
                ))}
              </div>
            )}

            {countdown === 0 && (
              <div className="mt-6 bg-yellow-100 border-4 border-yellow-400 rounded-2xl p-6">
                <p className="text-3xl font-black text-center text-yellow-900 mb-2">
                  ğŸ‰ You caught {caughtHearts} hearts! ğŸ‰
                </p>
                <p className="text-lg text-center text-gray-800 mb-4">
                  {caughtHearts >= 5 ? "Amazing! You're so good at this! ğŸ’•" : "That's okay! You caught MY heart, and that's what matters! ğŸ˜Š"}
                </p>
                <button
                  onClick={unlockNextPage}
                  className="w-full bg-gradient-to-r from-green-500 to-teal-500 text-white px-8 py-4 rounded-full text-xl font-black shadow-xl hover:scale-105 transition-transform"
                >
                  ğŸ”“ Unlock Next Page!
                </button>
              </div>
            )}
          </div>
        </div>
      )
    },
    {
      title: "A Confession From My Heart",
      icon: <BookHeart className="w-12 h-12 sm:w-16 sm:h-16 text-blue-500 animate-bounce" />,
      content: (
        <div className="space-y-6">
          <div className="bg-gradient-to-r from-blue-100 via-indigo-100 to-purple-100 p-6 sm:p-8 rounded-3xl border-4 border-blue-300 shadow-2xl transform hover:scale-105 transition-all duration-500">
            <p className="text-xl sm:text-2xl md:text-3xl font-bold text-center text-blue-900 mb-6 leading-relaxed">
              Dipti, I need to tell you something that makes me smile...
            </p>
            <div className="bg-white/80 p-4 sm:p-6 rounded-2xl mb-4 border-2 border-blue-200">
              <p className="text-lg sm:text-xl text-center text-gray-800 font-semibold mb-3">
                ğŸ‘¨â€âš–ï¸ I'm a lawyer. My domains are policy, projects, and law.
              </p>
              <p className="text-base sm:text-lg text-center text-gray-700 leading-relaxed">
                I spend my days drafting contracts, analyzing legislation, navigating complex legal frameworks... ğŸ“šâš–ï¸
              </p>
            </div>
            <div className="bg-gradient-to-r from-pink-100 to-purple-100 p-4 sm:p-6 rounded-2xl border-3 border-pink-300">
              <p className="text-xl sm:text-2xl text-center font-black text-purple-800 mb-4">
                But you know what? ğŸ’»âœ¨
              </p>
              <p className="text-base sm:text-lg text-center text-gray-800 leading-relaxed mb-4">
                I became a <span className="font-bold text-pink-600">self-made coder</span> just to create this for you! Hehehe ğŸ˜…
              </p>
              <p className="text-base sm:text-lg text-center text-gray-700 italic leading-relaxed">
                I couldn't ask anyone else to make this. This is MY effort. MY heart coded into every line. MY cutest attempt to show you how much you mean to me. ğŸ’
              </p>
            </div>
          </div>

          <div className="bg-yellow-50 p-6 sm:p-8 rounded-3xl border-4 border-yellow-300 shadow-xl transform hover:-rotate-1 transition-all">
            <p className="text-lg sm:text-xl md:text-2xl text-center font-bold text-yellow-900 mb-4">
              ğŸŒ™ I created this while you were sleeping! 
            </p>
            <p className="text-base sm:text-lg text-center text-gray-700 leading-relaxed">
              While you were dreaming peacefully, I was here... learning React, debugging animations, making hearts float... all because making you smile is worth every moment. ğŸ’•ğŸ˜Š
            </p>
          </div>

          <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div className="bg-gradient-to-br from-blue-100 to-blue-200 p-4 sm:p-6 rounded-2xl border-3 border-blue-300 transform hover:scale-110 hover:rotate-3 transition-all cursor-pointer" onClick={() => setCollectedHearts(prev => Math.min(prev + 3, 200))}>
              <p className="text-center text-3xl sm:text-4xl mb-2">âš–ï¸</p>
              <p className="text-center text-sm sm:text-base font-bold text-blue-900">Usually: Legal Briefs</p>
            </div>
            <div className="bg-gradient-to-br from-pink-100 to-pink-200 p-4 sm:p-6 rounded-2xl border-3 border-pink-300 transform hover:scale-110 hover:-rotate-3 transition-all cursor-pointer" onClick={() => setCollectedHearts(prev => Math.min(prev + 3, 200))}>
              <p className="text-center text-3xl sm:text-4xl mb-2">ğŸ’»</p>
              <p className="text-center text-sm sm:text-base font-bold text-pink-900">For You: Love Code</p>
            </div>
          </div>

          <div className="bg-gradient-to-r from-purple-100 to-pink-100 p-6 sm:p-8 rounded-3xl border-4 border-purple-300 shadow-xl">
            <p className="text-base sm:text-lg md:text-xl text-center text-gray-800 leading-relaxed italic">
              "How is my scope? From law to love, from contracts to code... I think I'm expanding in the best direction possible - towards YOU." ğŸ’âœ¨
            </p>
          </div>
        </div>
      )
    },
    {
      title: "âœï¸ Type to Continue!",
      icon: <Lock className="w-12 h-12 sm:w-16 sm:h-16 text-yellow-500 animate-wiggle" />,
      content: (
        <div className="space-y-6">
          <div className="bg-gradient-to-r from-yellow-100 to-orange-100 p-6 sm:p-8 rounded-3xl border-4 border-yellow-300 shadow-2xl">
            <p className="text-xl sm:text-2xl md:text-3xl font-bold text-center text-orange-900 mb-6">
              Type the Magic Words! âœ¨
            </p>
            <p className="text-base sm:text-lg text-center text-gray-700 mb-6 leading-relaxed">
              If your heart is ready to forgive this silly lawyer who stayed up coding for you... type <span className="font-bold text-pink-600">"{typingChallenge}"</span> below ğŸ’•
            </p>
            
            <input
              type="text"
              value={typedText}
              onChange={(e) => setTypedText(e.target.value)}
              placeholder="Type here..."
              className="w-full text-center text-xl sm:text-2xl font-bold text-purple-900 bg-white p-4 sm:p-5 rounded-2xl border-4 border-purple-300 focus:outline-none focus:border-pink-500 transition-all duration-300 shadow-inner"
            />

            {typedText.toLowerCase() === typingChallenge.toLowerCase() && (
              <div className="mt-6 bg-gradient-to-r from-green-100 to-teal-100 border-4 border-green-400 rounded-2xl p-6 sm:p-8 shadow-xl animate-zoomIn">
                <p className="text-4xl sm:text-5xl text-center mb-4">ğŸŠğŸ‰âœ¨ğŸ’–âœ¨ğŸ‰ğŸŠ</p>
                <p className="text-2xl sm:text-3xl font-black text-center text-green-900 mb-4">
                  YOU TYPED IT!!!
                </p>
                <p className="text-lg sm:text-xl text-center text-gray-800 mb-6 leading-relaxed">
                  Those three words just made my heart skip a beat! Thank you, my beautiful Dipti! ğŸ’
                </p>
                <button
                  onClick={() => {
                    unlockNextPage();
                    setTypedText('');
                  }}
                  className="w-full bg-gradient-to-r from-green-500 to-teal-500 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-lg sm:text-xl font-black shadow-xl hover:scale-105 transition-transform"
                >
                  Continue! âœ¨
                </button>
              </div>
            )}
          </div>
          
          <div className="bg-pink-50 p-4 sm:p-6 rounded-3xl border-3 border-pink-200">
            <p className="text-center text-sm sm:text-base text-gray-600 italic leading-relaxed">
              ğŸ’¡ Hint: Three simple words that would make this lawyer-turned-coder the happiest person alive! ğŸ˜ŠğŸ’•
            </p>
          </div>
        </div>
      )
    },
    {
      title: "I'm Sorry, My Girl",
      icon: <CloudRain className="w-16 h-16 text-blue-500 animate-bounce" />,
      content: (
        <div className="space-y-6">
          <div className="bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 p-10 rounded-3xl border-4 border-blue-400 shadow-2xl">
            <p className="text-4xl md:text-5xl font-black text-center mb-6 text-blue-900">
              I'm Deeply, Truly Sorry ğŸ¥º
            </p>
            <p className="text-xl md:text-2xl text-center text-gray-800 leading-relaxed mb-6">
              Whatever I did to make you pull away - I own it completely.
            </p>
            <p className="text-lg text-center text-purple-800 font-semibold">
              My regret is as vast as my respect for you is deep.
            </p>
          </div>

          <div className="bg-gradient-to-r from-red-50 to-pink-50 p-8 rounded-3xl border-4 border-red-200 shadow-xl">
            <MessageCircleHeart className="w-12 h-12 text-red-500 mx-auto mb-4 animate-pulse" />
            <p className="text-xl text-center text-gray-800">
              I miss us. But I'll wait as long as you need. ğŸ’•
            </p>
          </div>
        </div>
      )
    },
    {
      title: "Final Message",
      icon: <Crown className="w-16 h-16 text-yellow-500 animate-bounce" />,
      content: (
        <div className="space-y-6">
          <div className="bg-gradient-to-r from-purple-100 to-pink-100 p-6 sm:p-8 rounded-3xl border-4 border-purple-300 shadow-2xl">
            <p className="text-2xl sm:text-3xl font-bold text-center text-purple-900 mb-3 sm:mb-4">
              You Mean Everything To Me ğŸ’
            </p>
            <p className="text-lg sm:text-xl text-center text-gray-800 leading-relaxed">
              Thank you for taking this journey with me. Every click, every page, every moment you spent here means the world. ğŸŒâœ¨
            </p>
          </div>
        </div>
      )
    }
  ];

  return (
    <div className="min-h-screen bg-gradient-to-br from-pink-300 via-purple-300 to-blue-300 relative overflow-hidden">
      <div className="absolute inset-0 overflow-hidden pointer-events-none">
        {[...Array(30)].map((_, i) => (
          <div
            key={i}
            className="absolute"
            style={{
              left: `${Math.random() * 100}%`,
              top: `${Math.random() * 100}%`,
              animation: `float ${5 + Math.random() * 5}s ease-in-out infinite`,
              animationDelay: `${Math.random() * 5}s`
            }}
          >
            {i % 3 === 0 ? <Heart className="w-3 h-3 text-pink-400 opacity-40" /> :
             i % 3 === 1 ? <Star className="w-2 h-2 text-yellow-400 opacity-50" /> :
             <Sparkles className="w-3 h-3 text-purple-400 opacity-40" />}
          </div>
        ))}
      </div>

      <div 
        className="fixed pointer-events-none z-50"
        style={{
          left: `${mousePosition.x}px`,
          top: `${mousePosition.y}px`,
          transform: 'translate(-50%, -50%)'
        }}
      >
        <Heart className="w-4 h-4 text-pink-500 fill-pink-500 opacity-50" />
      </div>

      {showLove && hearts.map(heart => (
        <div
          key={heart.id}
          className="absolute bottom-0 pointer-events-none z-50"
          style={{
            left: `${heart.left}%`,
            animation: `flyUp ${heart.duration}s ease-out forwards`
          }}
          onAnimationEnd={() => setHearts(prev => prev.filter(h => h.id !== heart.id))}
        >
          <Heart 
            className="text-red-500 fill-red-500" 
            style={{ width: `${heart.size}px`, height: `${heart.size}px` }}
          />
        </div>
      ))}

      {showLove && stars.map(star => (
        <div
          key={star.id}
          className="absolute pointer-events-none z-40"
          style={{
            left: `${star.left}%`,
            top: `${star.top}%`,
            animation: 'twinkle 1.5s ease-in-out'
          }}
          onAnimationEnd={() => setStars(prev => prev.filter(s => s.id !== star.id))}
        >
          <Star className="w-6 h-6 text-yellow-400 fill-yellow-400" />
        </div>
      ))}

      <div className="relative z-10 min-h-screen flex items-center justify-center p-4">
        {!showLove ? (
          <div className="max-w-4xl w-full">
            <div className="mb-6 bg-white/50 backdrop-blur-sm rounded-full p-2 shadow-lg">
              <div className="relative h-3 bg-gray-200 rounded-full overflow-hidden">
                <div 
                  className="h-full bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 transition-all duration-500"
                  style={{ width: `${((currentPage + 1) / apologyPages.length) * 100}%` }}
                />
              </div>
              <p className="text-center text-white font-bold mt-2 text-sm drop-shadow-lg">
                Progress: {currentPage + 1} of {apologyPages.length} | ğŸ’• {collectedHearts}% | ğŸ† {miniGameScore}
              </p>
            </div>

            <div className="flex justify-center gap-3 mb-6">
              {apologyPages.map((page, i) => (
                <button
                  key={i}
                  onClick={() => setCurrentPage(i)}
                  className={`w-4 h-4 rounded-full transition-all ${
                    currentPage === i ? 'w-8 bg-pink-600 scale-125' : 'bg-white/80'
                  }`}
                />
              ))}
            </div>

            <div className="bg-white/95 backdrop-blur-lg rounded-3xl shadow-2xl p-8 md:p-12">
              <div 
                className="flex justify-center mb-6 cursor-pointer"
                onClick={() => {
                  setShakeCount(prev => prev + 1);
                  if (shakeCount >= 4) {
                    setShowSecret(true);
                    setCollectedHearts(prev => Math.min(prev + 20, 200));
                  }
                }}
              >
                {apologyPages[currentPage].icon}
              </div>

              {showSecret && (
                <div className="bg-yellow-100 border-4 border-yellow-400 rounded-2xl p-4 mb-6">
                  <p className="text-center font-bold text-yellow-900">
                    ğŸ‰ SECRET! +20% Love! ğŸ’›
                  </p>
                </div>
              )}

              <h1 className="text-4xl md:text-5xl font-black text-center mb-8 bg-gradient-to-r from-pink-600 via-purple-600 to-blue-600 bg-clip-text text-transparent">
                {apologyPages[currentPage].title}
              </h1>

              <div className="mb-8">
                {apologyPages[currentPage].content}
              </div>

              <div className="flex justify-between gap-4">
                <button
                  onClick={() => setCurrentPage(Math.max(0, currentPage - 1))}
                  disabled={currentPage === 0}
                  className={`px-6 py-3 rounded-full font-bold transition-all duration-300 ${
                    currentPage === 0
                      ? 'bg-gray-300 text-gray-500'
                      : 'bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:scale-110'
                  }`}
                >
                  â† Previous
                </button>

                {currentPage === apologyPages.length - 1 ? (
                  <button
                    onClick={() => {
                      setShowLove(true);
                      setCollectedHearts(200);
                    }}
                    className="flex-1 bg-gradient-to-r from-red-500 via-pink-500 to-purple-500 text-white px-8 py-5 rounded-full text-xl md:text-2xl font-black shadow-2xl hover:scale-110 transition-transform"
                  >
                    ğŸ’• It's Okay, I Forgive You ğŸ’•
                  </button>
                ) : (
                  <button
                    onClick={() => {
                      if (currentPage + 1 < apologyPages.length) {
                        setCurrentPage(currentPage + 1);
                      }
                    }}
                    className="px-6 py-3 rounded-full font-bold bg-gradient-to-r from-pink-500 to-purple-500 text-white hover:scale-110 transition-all duration-300"
                  >
                    Next â†’
                  </button>
                )}
              </div>
            </div>
          </div>
        ) : (
          <div className="max-w-4xl w-full bg-white/95 backdrop-blur-lg rounded-3xl shadow-2xl p-8 md:p-16">
            <Heart className="w-32 h-32 text-red-500 fill-red-500 mx-auto mb-8 animate-heartbeat" />
            
            <h1 className="text-6xl md:text-8xl font-black text-center mb-6 bg-gradient-to-r from-red-500 via-pink-600 to-purple-600 bg-clip-text text-transparent">
              I LOVE YOU
            </h1>

            <h2 className="text-5xl font-bold text-center text-purple-600 mb-8">
              DIPTI â¤ï¸â¤ï¸â¤ï¸
            </h2>

            <div className="bg-gradient-to-r from-pink-100 to-purple-100 p-8 rounded-3xl mb-8">
              <p className="text-3xl font-bold text-center text-purple-800">
                {loveMessages[textIndex]}
              </p>
            </div>

            <div className="flex justify-center gap-3 flex-wrap mb-8">
              {['ğŸ˜', 'ğŸ’–', 'ğŸ¥°', 'ğŸ’', 'âœ¨', 'ğŸŒŸ', 'ğŸ’•', 'ğŸ˜˜', 'ğŸ‰', 'ğŸŒˆ'].map((emoji, i) => (
                <span key={i} className="text-5xl">{emoji}</span>
              ))}
            </div>

            <div className="bg-gradient-to-br from-red-100 to-pink-100 p-10 rounded-3xl border-4 border-pink-400 mb-8">
              <p className="text-3xl font-black text-center text-pink-700 mb-4">
                ğŸŠ THANK YOU! ğŸŠ
              </p>
              <p className="text-2xl text-center text-gray-800 mb-4">
                You made me the happiest person! ğŸŒŒ
              </p>
              <p className="text-xl text-center text-purple-700">
                Let's be US again! ğŸ’‘âœ¨
              </p>
            </div>

            <button
              onClick={() => {
                setShowLove(false);
                setCurrentPage(0);
                setCollectedHearts(0);
                setUnlockedPages([true, false, false, false, false, false, false]);
                setShowPlane(false);
                setPlaneProgress(0);
                setShowHugAnimation(false);
                setHugPhase(0);
              }}
              className="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white px-10 py-4 rounded-full text-xl font-black shadow-2xl hover:scale-105 transition-transform"
            >
              ğŸ’Œ Experience It Again ğŸ’Œ
            </button>
          </div>
        )}
      </div>
      
      <style>{`
        @keyframes heartbeat {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.15); }
        }
        @keyframes wiggle {
          0%, 100% { transform: rotate(0deg); }
          25% { transform: rotate(-5deg); }
          75% { transform: rotate(5deg); }
        }
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-20px); }
        }
        @keyframes floatUp {
          0% { transform: translateY(0); opacity: 1; }
          100% { transform: translateY(-400px); opacity: 0; }
        }
        @keyframes flyUp {
          0% { transform: translateY(0) scale(0); opacity: 1; }
          100% { transform: translateY(-100vh) scale(0.5); opacity: 0; }
        }
        @keyframes twinkle {
          0%, 100% { opacity: 0; transform: scale(0); }
          50% { opacity: 1; transform: scale(1.5); }
        }
        @keyframes spin-slow {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        @keyframes zoomIn {
          0% { transform: scale(0); opacity: 0; }
          100% { transform: scale(1); opacity: 1; }
        }
        @keyframes slideIn {
          0% { transform: translateX(-100%); opacity: 0; }
          100% { transform: translateX(0); opacity: 1; }
        }
        @keyframes fadeIn {
          0% { opacity: 0; }
          100% { opacity: 1; }
        }
        .animate-wiggle { animation: wiggle 2s ease-in-out infinite; }
        .animate-heartbeat { animation: heartbeat 1.5s ease-in-out infinite; }
        .animate-spin-slow { animation: spin-slow 3s linear infinite; }
        .animate-shimmer { animation: shimmer 2s infinite; }
        .animate-zoomIn { animation: zoomIn 0.6s ease-out; }
        .animate-slideIn { animation: slideIn 0.8s ease-out; }
        .animate-fadeIn { animation: fadeIn 1s ease-in; }
      `}</style>
    </div>
  );
